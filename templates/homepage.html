{% extends "_base.html" %}
{% block title %}Muzikos sistema{% endblock %}

{% block content %}
  <h2 class="mb-4 fw-semibold">Populiarios dainos</h2>
  <div class="row row-cols-auto g-4">
    <a class="song-card" href="#">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=1"
        class="rounded-2"
        alt="song cover"
      />
      <h6 class="card-title mt-1 mb-1">Labai faina daina</h6>
      <p class="text-muted small mb-2">Gytis Kaulakis</p>
    </a>
    <a class="song-card" href="#">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=2"
        class="rounded-2"
        alt="song cover"
      />
      <h6 class="card-title mt-1 mb-1">Apie medžius</h6>
      <p class="text-muted small mb-2">Ramūnas</p>
    </a>
    <a class="song-card" href="#">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=3"
        class="rounded-2"
        alt="song cover"
      />
      <h6 class="card-title mt-1 mb-1">Informatika jėga</h6>
      <p class="text-muted small mb-2">Core dumped</p>
    </a>
    <a class="song-card" href="#">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=4"
        class="rounded-2"
        alt="song cover"
      />
      <h6 class="card-title mt-1 mb-1">Daryk ką nors</h6>
      <p class="text-muted small mb-2">Dėstytojas</p>
    </a>
  </div>

  <h2 class="mt-5 mb-4 fw-semibold">Grojaraščiai</h2>
  <div class="row row-cols-auto g-4">
    <a class="playlist-card" href="{% url 'playlists:playlistDetail' 1 %}">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=5"
        class="rounded-2"
        alt="album cover"
      />
      <h6 class="card-title mt-1 mb-1">Geras grojaraštis</h6>
      <p class="text-muted small mb-2">
        Gytis Kaulakis, Ramūnas Vengrauskas, Trečias atlikėjas, Ketvirtas atlikėjas
      </p>
    </a>
    <a class="playlist-card" href="{% url 'playlists:playlistDetail' 2 %}">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=6"
        class="rounded-2"
        alt="album cover"
      />
      <h6 class="card-title mt-1 mb-1">Blogas grojaraštis</h6>
      <p class="text-muted small mb-2">Bet geras atlikėjas</p>
    </a>
    <a class="playlist-card" href="{% url 'playlists:playlistDetail' 3 %}">
      <img
        height="180"
        width="180"
        src="https://picsum.photos/180?random=7"
        class="rounded-2"
        alt="album cover"
      />
      <h6 class="card-title mt-1 mb-1">Labai ilgas pavadinimas per eilutes</h6>
      <p class="text-muted small mb-2">Ir dar ilgas atlikėjo vardas</p>
    </a>
  </div>

  {% if koncertai %}
    <h2 class="mt-5 mb-4 fw-semibold">Būsimi Koncertai</h2>
    <div class="row g-4">
      <div class="col-sm-6 mb-3 mb-sm-0">
        {% for koncertas in koncertai %}
          <a class="card concert-card" href="{% url 'concerts:concertDetail' pk=koncertas.pk %}">
            <img
              src="https://picsum.photos/320/180?random=9"
              class="card-img-top"
              alt="Concert cover"
            />
            <div class="card-body">
              <small>{% if koncertas.pradzios_data %}{{ koncertas.pradzios_data|date:"Y M d" }}{% endif %} - {% if koncertas.pabaigos_data %}{{ koncertas.pabaigos_data|date:"d" }}{% endif %} · {{ koncertas.get_zanras_display }}</small>
              <h5 class="card-title">{{ koncertas.pavadinimas }}</h5>
              <small style="font-size: small" class="text-muted">
                Bielietų: {{ koncertas.zmoniu_talpa }} · Įvertis: {{ koncertas.rekomendacijos_ivertis|floatformat:1 }}/10
              </small>
              {% comment %} 
                <!-- Gal galima padaryt kad naudotojas čia pasirenka ar įdomus renginys -->
                <div class="card-footer">
                  <div class="dropdown mt-3">
                    <button
                      class="btn btn-secondary dropdown-toggle"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      Nedomina
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Domina</a></li>
                      <li><a class="dropdown-item" href="#">Dayvausiu</a></li>
                      <li><a class="dropdown-item active" href="#">Nedomina</a></li>
                    </ul>
                  </div>
                </div> 
              {% endcomment %}
            </div>
          </a>
        {% endfor %}
      </div>
    </div>

  {% endif %}

  {% if users %}
    <h2 class="mt-5 mb-4 fw-semibold">Naudotojai</h2>
    <div class="row row-cols-auto g-4">
      {% for user in users %}
        <a class="user-card" href="{% url 'users:userDetail' user.pk %}">
          {% if user.profile_cover_url %}
            <img
              height="180"
              width="180"
              src="{{ user.profile_cover_url }}"
              class="rounded-circle shadow-sm"
              alt="user profile cover"
            />
          {% else %}
            <div
            style="width: 180px; height: 180px; box-shadow: inset 0px 0px 16px 0px #000c;"
            class="rounded-circle bg-secondary"
            >
            </div>
          {% endif %}
          <h6 class="card-title mt-1 mb-1">{{ user.display_name }}</h6>
        </a>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
